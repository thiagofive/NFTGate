"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[349],{5224:function(t,e,r){r.d(e,{x9:function(){return ne}});var n=r(3300),s=r.n(n),a=r(6441),i=r(4146),u=r(6153),o=r(9279),c=r(5553),p=r(8197),f=r(9251),l=r(2593),h=r(5948),d=r(8088),v=r(4243),y=(r(4586),r(1556)),x=r(6371),g=r(397),m=r(655);function w(t,e,r,n,s,a,i){try{var u=t[a](i),o=u.value}catch(c){return void r(c)}u.done?e(o):Promise.resolve(o).then(n,s)}function b(t){return function(){var e=this,r=arguments;return new Promise((function(n,s){var a=t.apply(e,r);function i(t){w(a,n,s,i,u,"next",t)}function u(t){w(a,n,s,i,u,"throw",t)}i(void 0)}))}}function k(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function A(t,e,r){return e&&k(t.prototype,e),r&&k(t,r),t}function O(){return(O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function T(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,S(t,e)}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function M(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function R(t,e,r){return(R=M()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var s=new(Function.bind.apply(t,n));return r&&S(s,r.prototype),s}).apply(null,arguments)}function E(t){var e="function"===typeof Map?new Map:void 0;return(E=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return R(t,arguments,C(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),S(n,t)})(t)}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function L(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,e){if(t){if("string"===typeof t)return P(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(t,e):void 0}}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var F,N=(function(t){var e=function(t){var e,r=Object.prototype,n=r.hasOwnProperty,s="function"===typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",i=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function o(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{o({},"")}catch(P){o=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var s=e&&e.prototype instanceof y?e:y,a=Object.create(s.prototype),i=new M(n||[]);return a._invoke=function(t,e,r){var n=f;return function(s,a){if(n===h)throw new Error("Generator is already running");if(n===d){if("throw"===s)throw a;return E()}for(r.method=s,r.arg=a;;){var i=r.delegate;if(i){var u=T(i,r);if(u){if(u===v)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var o=p(t,e,r);if("normal"===o.type){if(n=r.done?d:l,o.arg===v)continue;return{value:o.arg,done:r.done}}"throw"===o.type&&(n=d,r.method="throw",r.arg=o.arg)}}}(t,r,i),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(P){return{type:"throw",arg:P}}}t.wrap=c;var f="suspendedStart",l="suspendedYield",h="executing",d="completed",v={};function y(){}function x(){}function g(){}var m={};o(m,a,(function(){return this}));var w=Object.getPrototypeOf,b=w&&w(w(R([])));b&&b!==r&&n.call(b,a)&&(m=b);var k=g.prototype=y.prototype=Object.create(m);function A(t){["next","throw","return"].forEach((function(e){o(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(s,a,i,u){var o=p(t[s],t,a);if("throw"!==o.type){var c=o.arg,f=c.value;return f&&"object"===typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,u)}),(function(t){r("throw",t,i,u)})):e.resolve(f).then((function(t){c.value=t,i(c)}),(function(t){return r("throw",t,i,u)}))}u(o.arg)}var s;this._invoke=function(t,n){function a(){return new e((function(e,s){r(t,n,e,s)}))}return s=s?s.then(a,a):a()}}function T(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method))return v;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var s=p(n,t.iterator,r.arg);if("throw"===s.type)return r.method="throw",r.arg=s.arg,r.delegate=null,v;var a=s.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function R(t){if(t){var r=t[a];if(r)return r.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var s=-1,i=function r(){for(;++s<t.length;)if(n.call(t,s))return r.value=t[s],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}return{next:E}}function E(){return{value:e,done:!0}}return x.prototype=g,o(k,"constructor",g),o(g,"constructor",x),x.displayName=o(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,o(t,u,"GeneratorFunction")),t.prototype=Object.create(k),t},t.awrap=function(t){return{__await:t}},A(O.prototype),o(O.prototype,i,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,s,a){void 0===a&&(a=Promise);var i=new O(c(e,r,n,s),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},A(k),o(k,u,"Generator"),o(k,a,(function(){return this})),o(k,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=R,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function s(n,s){return u.type="throw",u.arg=t,r.next=n,s&&(r.method="next",r.arg=e),!!s}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],u=i.completion;if("root"===i.tryLoc)return s("end");if(i.tryLoc<=this.prev){var o=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(o&&c){if(this.prev<i.catchLoc)return s(i.catchLoc,!0);if(this.prev<i.finallyLoc)return s(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return s(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return s(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r];if(s.tryLoc<=this.prev&&n.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var a=s;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var s=n.arg;S(r)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:R(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(r){"object"===typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(F={exports:{}},F.exports),F.exports);function _(t,e){return t&&"string"===typeof t?(e.endsWith("/")||(e+="/"),t.replace("ipfs://",e)):""}function B(t,e,r){return I.apply(this,arguments)}function I(){return(I=b(N.mark((function t(e,r,n){var s,a,i,u;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={"X-App-Name":"CONSOLE-TS-SDK-"+r,"X-Public-Address":n||""},(a=new FormData).append("file",e),t.next=5,fetch("https://upload.nftlabs.co/upload",{method:"POST",body:a,headers:s});case 5:return i=t.sent,t.next=8,i.json();case 8:return u=t.sent,t.abrupt("return",u.IpfsUri);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function U(t,e,r){return D.apply(this,arguments)}function D(){return(D=b(N.mark((function t(e,r,n){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!==typeof e){t.next=2;break}return t.abrupt("return",e);case 2:return t.next=4,B(JSON.stringify(e),r,n);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}globalThis.FormData||(globalThis.FormData=r(6230));var G=(0,a.arrayify)("0x80ac58cd"),j=[{inputs:[],name:"contractURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];function K(t,e,r){return z.apply(this,arguments)}function z(){return(z=b(N.mark((function t(e,r,n){var s,a,u,o,c,p;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=new i.CH(r,j,e),t.next=3,s.contractURI();case 3:return a=t.sent,u=_(a,n),t.next=7,fetch(u);case 7:return o=t.sent,t.next=10,o.json();case 10:return c=t.sent,p=O({},c,{uri:a,image:_(c.image,n)}),t.abrupt("return",p);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function $(t,e){return q.apply(this,arguments)}function q(){return(q=b(N.mark((function t(e,r){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCode(r);case 2:return t.t0=t.sent,t.abrupt("return","0x"!==t.t0);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function H(t,e){return W.apply(this,arguments)}function W(){return(W=b(N.mark((function t(e,r){var n,s,a,i,c;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r.toLowerCase()===o.d){t.next=10;break}return n=u.w6.connect(r,e),t.next=5,Promise.all([n.name(),n.symbol(),n.decimals()]);case 5:return s=t.sent,a=s[0],i=s[1],c=s[2],t.abrupt("return",{name:a,symbol:i,decimals:c});case 10:t.next=14;break;case 12:t.prev=12,t.t0=t.catch(0);case 14:return t.abrupt("return",{name:"",symbol:"",decimals:0});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}function Y(t,e,r){return J.apply(this,arguments)}function J(){return(J=b(N.mark((function t(e,r,n){var s;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H(e,r);case 2:return s=t.sent,t.abrupt("return",O({},s,{value:n.toString(),displayValue:(0,c.formatUnits)(n,s.decimals)}));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var V,Q,X=function(t){function e(){return t.call(this,"NOT_FOUND")||this}return T(e,t),e}(E(Error));!function(t){t[t.Mainnet=1]="Mainnet",t[t.Ropsten=3]="Ropsten",t[t.Rinkeby=4]="Rinkeby",t[t.Goerli=5]="Goerli",t[t.Kovan=42]="Kovan",t[t.BSC=56]="BSC",t[t.xDai=100]="xDai",t[t.Polygon=137]="Polygon",t[t.Moonriver=1285]="Moonriver",t[t.Mumbai=80001]="Mumbai",t[t.Harmony=16666e5]="Harmony",t[t.Localhost=1337]="Localhost",t[t.Hardhat=31337]="Hardhat",t[t.Fantom=250]="Fantom",t[t.FantomTestnet=4002]="FantomTestnet",t[t.Avalanche=43114]="Avalanche",t[t.AvalancheFujiTestnet=43113]="AvalancheFujiTestnet"}(V||(V={}));var Z,tt=((Q={})[V.Polygon]={vrfCoordinator:"0x3d2341ADb2D31f1c5530cDC622016af293177AE0",linkTokenAddress:"0xb0897686c545045aFc77CF20eC7A532E3120E0F1",keyHash:"0xf86195cf7690c55907b2b611ebb7343a6f649bff128701cc542f0569e2c549da",fees:c.parseEther("0.0001")},Q[V.Mumbai]={vrfCoordinator:"0x8C7382F9D8f56b33781fE506E897a4F1e2d17255",linkTokenAddress:"0x326C977E6efc84E512bB9C30f76E30c160eD06FB",keyHash:"0x6e75b569a01ef56d18cab6a8e71e6600d6ce853834d4a5748b720d06f878b3a4",fees:c.parseEther("0.0001")},Q[V.Rinkeby]={vrfCoordinator:"0xb3dCcb4Cf7a26f6cf6B120Cf5A73875B7BBc655B",linkTokenAddress:"0x01be23585060835e02b77ef475b0cc51aa1e0709",keyHash:"0x2ed0feb3e7fd2022120aa84fab1945545a9f2ffc9076fd6156fa96eaff4c1311",fees:c.parseEther("0.1")},Q[V.Mainnet]={vrfCoordinator:"0xf0d54349aDdcf704F77AE15b96510dEA15cb7952",linkTokenAddress:"0x514910771AF9Ca656af840dff83E8264EcF986CA",keyHash:"0xAA77729D3466CA35AE8D28B3BBAC7CC36A5031EFDC430821C02BC31A238AF445",fees:c.parseEther("2")},Q);!function(t){t[t.CURRENCY=0]="CURRENCY",t[t.COLLECTION=1]="COLLECTION",t[t.BUNDLE=1]="BUNDLE",t[t.NFT=2]="NFT",t[t.DYNAMIC_NFT=3]="DYNAMIC_NFT",t[t.ACCESS_NFT=4]="ACCESS_NFT",t[t.PACK=5]="PACK",t[t.MARKET=6]="MARKET",t[t.DROP=7]="DROP",t[t.DATASTORE=8]="DATASTORE",t[t.SPLITS=9]="SPLITS"}(Z||(Z={}));var et=[{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];function rt(t,e,r,n){return nt.apply(this,arguments)}function nt(){return(nt=b(N.mark((function t(e,r,n,s){var a;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new i.CH(r,et,e),t.abrupt("return",st(a,n,s));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function st(t,e,r){return at.apply(this,arguments)}function at(){return(at=b(N.mark((function t(e,r,n){var s,a,i,u,o;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,it(e,r);case 2:if(s=t.sent){t.next=5;break}throw new X;case 5:return a=_(s,n),t.next=8,fetch(a);case 8:return i=t.sent,t.next=11,i.json();case 11:return u=t.sent,o=O({},u,{id:r,uri:s,image:_(u.image,n)}),t.abrupt("return",o);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function it(t,e){return ut.apply(this,arguments)}function ut(){return(ut=b(N.mark((function t(e,r){var n;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="",t.prev=1,t.next=4,e.tokenURI(r);case 4:n=t.sent,t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:if(n){t.next=18;break}return t.prev=10,t.next=13,e.uri(r);case 13:n=t.sent,t.next=18;break;case 16:t.prev=16,t.t1=t.catch(10);case 18:return t.abrupt("return",n);case 19:case"end":return t.stop()}}),t,null,[[1,7],[10,16]])})))).apply(this,arguments)}var ot,ct="admin",pt="minter",ft="pauser",lt="transfer",ht="editor",dt="lister",vt={admin:"",transfer:"TRANSFER_ROLE",minter:"MINTER_ROLE",pauser:"PAUSER_ROLE",editor:"EDITOR_ROLE",lister:"LISTER_ROLE"};function yt(t){return"admin"===t?a.hexZeroPad([0],32):p.keccak256(f.Y0(vt[t]))}function xt(t){return t&&t===V.Polygon?"https://gasstation-mainnet.matic.network":null}function gt(t,e,r){return mt.apply(this,arguments)}function mt(){return(mt=b(N.mark((function t(e,r,n){var s,a,i;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=xt(e)){t.next=3;break}return t.abrupt("return",null);case 3:return t.prev=3,t.next=6,fetch(s);case 6:return t.next=8,t.sent.json();case 8:if(a=t.sent,!((i=a[r])>0)){t.next=12;break}return t.abrupt("return",Math.min(i,n));case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),console.error("failed to fetch gas",t.t0);case 17:return t.abrupt("return",null);case 18:case"end":return t.stop()}}),t,null,[[3,14]])})))).apply(this,arguments)}var wt=((ot={})[V.Mainnet]={registry:"0x902a29f2cfe9f8580ad672AaAD7E917d85ca9a2E"},ot[V.Rinkeby]={registry:"0x902a29f2cfe9f8580ad672AaAD7E917d85ca9a2E"},ot[V.Polygon]={registry:"0x902a29f2cfe9f8580ad672AaAD7E917d85ca9a2E"},ot[V.Mumbai]={registry:"0x902a29f2cfe9f8580ad672AaAD7E917d85ca9a2E"},ot[V.Avalanche]={registry:"0x902a29f2cfe9f8580ad672AaAD7E917d85ca9a2E"},ot[V.AvalancheFujiTestnet]={registry:"0x902a29f2cfe9f8580ad672AaAD7E917d85ca9a2E"},ot[V.Fantom]={registry:"0x902a29f2cfe9f8580ad672AaAD7E917d85ca9a2E"},ot[V.FantomTestnet]={registry:"0x902a29f2cfe9f8580ad672AaAD7E917d85ca9a2E"},ot);function bt(t){return wt[t].registry}function kt(t,e){if(!t)throw new Error(e)}var At=[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"gas",type:"uint256"},{name:"nonce",type:"uint256"},{name:"data",type:"bytes"}],Ot={};function Tt(t,e){return Ct.apply(this,arguments)}function Ct(){return(Ct=b(N.mark((function t(e,r){var n;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r in Ot){t.next=4;break}return t.next=3,e.getNonce(r);case 3:Ot[r]=t.sent;case 4:return n=Ot[r],Ot[r]=l.O$.from(Ot[r]).add(1),t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var St=function(){function t(t,e,r,n){this.address=void 0,this.ipfsGatewayUrl=void 0,this.options=void 0,this.sdk=void 0,this._providerOrSigner=null,this._signer=null,this.contract=void 0,this.readOnlyContract=void 0,this.address=e,this.options=r,this.ipfsGatewayUrl=r.ipfsGatewayUrl,this.setProviderOrSigner(t),this.contract=this.connectContract(),this.readOnlyContract=this.options.readOnlyRpcUrl?this.contract.connect(h.yl(this.options.readOnlyRpcUrl)):this.contract,this.sdk=n}var e=t.prototype;return e.exists=function(){var t=b(N.mark((function t(){var e;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getProvider();case 2:return(e=t.sent)||kt(!1),t.abrupt("return",$(e,this.address));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.getMetadata=function(){var t=b(N.mark((function t(){var e,r;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.exists();case 2:if(t.sent){t.next=6;break}kt(!1),t.next=7;break;case 6:case 7:return e=this.connectContract(),r=this.getModuleType(),t.next=11,K(this.getProviderOrSigner(),e.address,this.options.ipfsGatewayUrl);case 11:return t.t0=t.sent,t.t1=e.address,t.t2=r,t.abrupt("return",{metadata:t.t0,address:t.t1,type:t.t2});case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.setMetadata=function(){var t=b(N.mark((function t(e){var r;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.exists();case 2:if(t.sent){t.next=6;break}kt(!1),t.next=7;break;case 6:case 7:return t.next=9,U(e);case 9:return r=t.sent,t.next=12,this.sendTransaction("setContractURI",[r]);case 12:return t.abrupt("return",this.getMetadata());case 13:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.setProviderOrSigner=function(t){this.providerOrSigner=t,d.E.isSigner(t)&&(this.signer=t),this.contract=this.connectContract(),this.readOnlyContract=this.options.readOnlyRpcUrl?this.contract.connect(h.yl(this.options.readOnlyRpcUrl)):this.contract},e.clearSigner=function(){this.signer=null},e.getProviderOrSigner=function(){return this.signer||this.providerOrSigner},e.getSigner=function(){return d.E.isSigner(this.signer)?this.signer:null},e.hasValidSigner=function(){return d.E.isSigner(this.signer)},e.getSignerAddress=function(){var t=b(N.mark((function t(){var e;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=this.getSigner())||kt(!1),t.next=4,e.getAddress();case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.getProvider=function(){var t=b(N.mark((function t(){var e;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=d.E.isSigner(this.getProviderOrSigner())?this.providerOrSigner.provider:this.providerOrSigner,t.abrupt("return",e);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.getChainID=function(){var t=b(N.mark((function t(){var e,r,n;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getProvider();case 2:return(e=t.sent)||kt(!1),t.next=6,e.getNetwork();case 6:return r=t.sent,n=r.chainId,t.abrupt("return",n);case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.connectContract=function(){throw new Error("connectContract has to be implemented")},e.getModuleType=function(){throw new Error("getModuleType has to be implemented")},e.getCallOverrides=function(){var t=b(N.mark((function t(){var e,r,n,s;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getChainID();case 2:return e=t.sent,r=this.options.gasSpeed,n=this.options.maxGasPriceInGwei,t.next=7,gt(e,r,n);case 7:if(s=t.sent){t.next=10;break}return t.abrupt("return",{});case 10:return t.abrupt("return",{gasPrice:c.parseUnits(s.toString(),"gwei")});case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.sendTransaction=function(){var t=b(N.mark((function t(e,r,n){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=4;break}return t.next=3,this.getCallOverrides();case 3:n=t.sent;case 4:if(!this.options.transactionRelayerUrl){t.next=10;break}return t.next=7,this.sendGaslessTransaction(e,r,n);case 7:return t.abrupt("return",t.sent);case 10:return t.next=12,this.sendAndWaitForTransaction(e,r,n);case 12:return t.abrupt("return",t.sent);case 13:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.sendAndWaitForTransaction=function(){var t=b(N.mark((function t(e,r,n){var s,a,i;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=this.contract,t.next=3,(s=a.functions)[e].apply(s,r.concat([n]));case 3:if(!(i=t.sent).wait){t.next=8;break}return t.next=7,i.wait();case 7:return t.abrupt("return",t.sent);case 8:return t.abrupt("return",i);case 9:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.sendGaslessTransaction=function(){var t=b(N.mark((function t(e,r,n){var s,a,i,o,c,p,f,h,d,v,y,x,g,m,w,b,k,A;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("callOverrides",n),(a=this.getSigner())||kt(!1),t.next=5,this.getProvider();case 5:return(i=t.sent)||kt(!1),t.next=9,this.getChainID();case 9:return o=t.sent,c=this.contract,t.next=13,this.getSignerAddress();case 13:return p=t.sent,f=this.address,h=0,d=c.interface.encodeFunctionData(e,r),t.next=19,(s=c.estimateGas)[e].apply(s,r);case 19:return v=t.sent.mul(2),y=this.options.transactionRelayerForwarderAddress,x=u.n5.connect(y,this.getProviderOrSigner()),t.next=24,Tt(x,p);case 24:return g=t.sent,m={name:"GSNv2 Forwarder",version:"0.0.1",chainId:o,verifyingContract:y},w={ForwardRequest:At},b={from:p,to:f,value:l.O$.from(h).toString(),gas:l.O$.from(v).toString(),nonce:l.O$.from(g).toString(),data:d},t.next=30,a._signTypedData(m,w,b);case 30:return k=t.sent,t.next=33,this.options.transactionRelayerSendFunction(b,k);case 33:return A=t.sent,t.next=36,i.waitForTransaction(A);case 36:return t.abrupt("return",t.sent);case 37:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.parseEventLogs=function(t,e){if(!e)return null;for(var r,n=this.contract,s=L(e);!(r=s()).done;){var a=r.value;try{return n.interface.decodeEventLog(t,a.data,a.topics)}catch(i){}}return null},A(t,[{key:"providerOrSigner",get:function(){return this.signer||this._providerOrSigner||this.getProviderOrSigner()},set:function(t){this._providerOrSigner=t}},{key:"signer",get:function(){return this._signer},set:function(t){this._signer=t}}]),t}(),Mt=function(t){T(r,t);var e=r.prototype;function r(e,r,n,s){return t.call(this,e,r,n,s)||this}return e.getModuleRoles=function(){throw new Error("getModuleRoles has to be implemented by a subclass")},e.getRoleMembers=function(){var t=b(N.mark((function t(e){var r,n,s;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.roles.includes(e)||kt(!1),r=this.contract,n=yt(e),t.next=5,r.getRoleMemberCount(n);case 5:return s=t.sent.toNumber(),t.next=8,Promise.all(Array.from(Array(s).keys()).map((function(t){return r.getRoleMember(n,t)})));case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.getAllRoleMembers=function(){var t=b(N.mark((function t(){var e,r,n,s;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.roles.length||kt(!1),e={},r=L(this.roles);case 3:if((n=r()).done){t.next=10;break}return s=n.value,t.next=7,this.getRoleMembers(s);case 7:e[s]=t.sent;case 8:t.next=3;break;case 10:return t.abrupt("return",e);case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.grantRole=function(){var t=b(N.mark((function t(e,r){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.roles.includes(e)||kt(!1),t.next=3,this.sendTransaction("grantRole",[yt(e),r]);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),e.revokeRole=function(){var t=b(N.mark((function t(e,r){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.roles.includes(e)||kt(!1),t.next=3,this.getSignerAddress();case 3:if(t.sent.toLowerCase()!==r.toLowerCase()){t.next=10;break}return t.next=7,this.sendTransaction("renounceRole",[yt(e),r]);case 7:return t.abrupt("return",t.sent);case 10:return t.next=12,this.sendTransaction("revokeRole",[yt(e),r]);case 12:return t.abrupt("return",t.sent);case 13:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),A(r,[{key:"roles",get:function(){return this.getModuleRoles()}}]),r}(St),Rt=function(){this.name="",this.description=void 0,this.image=void 0,this.externalLink=void 0};(0,m.gn)([(0,g.ep)("name",String)],Rt.prototype,"name",void 0),(0,m.gn)([(0,g.ep)("description",String,g.M_.IGNORE_NULLABLE)],Rt.prototype,"description",void 0),(0,m.gn)([(0,g.ep)("image",String,g.M_.IGNORE_NULLABLE)],Rt.prototype,"image",void 0),(0,m.gn)([(0,g.ep)("external_link",String,g.M_.IGNORE_NULLABLE)],Rt.prototype,"externalLink",void 0);var Et=Rt=(0,m.gn)([(0,g.sT)("CommonModuleMetadata")],Rt),Pt=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).sellerFeeBasisPoints=0,e.feeRecipient=void 0,e}return T(e,t),e}(Et);(0,m.gn)([(0,g.ep)("seller_fee_basis_points",Number,g.M_.IGNORE_NULLABLE)],Pt.prototype,"sellerFeeBasisPoints",void 0),(0,m.gn)([(0,g.ep)("fee_recipient",String,g.M_.IGNORE_NULLABLE)],Pt.prototype,"feeRecipient",void 0);var Lt=Pt=(0,m.gn)([(0,g.sT)("CollectionModuleMetadata")],Pt),Ft=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).symbol="",e}return T(e,t),e}(Et);(0,m.gn)([(0,g.ep)("symbol",String)],Ft.prototype,"symbol",void 0);var Nt=Ft=(0,m.gn)([(0,g.sT)("CurrencyModuleMetadata")],Ft),_t=function(t){function e(){return t.apply(this,arguments)||this}return T(e,t),e}(Et),Bt=_t=(0,m.gn)([(0,g.sT)("DatastoreModuleMetadata")],_t),It=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).sellerFeeBasisPoints=0,e.primarySaleFeeBasisPoints=0,e.feeRecipient=void 0,e.symbol=void 0,e.maxSupply=1,e.primarySaleRecipientAddress="",e.baseTokenUri="",e}return T(e,t),e}(Et);(0,m.gn)([(0,g.ep)("seller_fee_basis_points",Number,g.M_.IGNORE_NULLABLE)],It.prototype,"sellerFeeBasisPoints",void 0),(0,m.gn)([(0,g.ep)("primary_sale_fee_basis_points",Number,g.M_.IGNORE_NULLABLE)],It.prototype,"primarySaleFeeBasisPoints",void 0),(0,m.gn)([(0,g.ep)("fee_recipient",String,g.M_.IGNORE_NULLABLE)],It.prototype,"feeRecipient",void 0),(0,m.gn)([(0,g.ep)("symbol",String,g.M_.IGNORE_NULLABLE)],It.prototype,"symbol",void 0),(0,m.gn)([(0,g.ep)("max_supply",Number,g.M_.IGNORE_NULLABLE)],It.prototype,"maxSupply",void 0),(0,m.gn)([(0,g.ep)("primary_sale_recipient_address",String,g.M_.IGNORE_NULLABLE)],It.prototype,"primarySaleRecipientAddress",void 0),(0,m.gn)([(0,g.ep)("base_token_uri",String,g.M_.IGNORE_NULLABLE)],It.prototype,"baseTokenUri",void 0);var Ut=It=(0,m.gn)([(0,g.sT)("DropModuleMetadata")],It),Dt=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).marketFeeBasisPoints=0,e}return T(e,t),e}(Et);(0,m.gn)([(0,g.ep)("seller_fee_basis_points",Number,g.M_.IGNORE_NULLABLE)],Dt.prototype,"marketFeeBasisPoints",void 0);var Gt=Dt=(0,m.gn)([(0,g.sT)("MarketModuleMetadata")],Dt),jt=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).sellerFeeBasisPoints=0,e.feeRecipient=void 0,e.symbol=void 0,e}return T(e,t),e}(Et);(0,m.gn)([(0,g.ep)("seller_fee_basis_points",Number,g.M_.IGNORE_NULLABLE)],jt.prototype,"sellerFeeBasisPoints",void 0),(0,m.gn)([(0,g.ep)("fee_recipient",String,g.M_.IGNORE_NULLABLE)],jt.prototype,"feeRecipient",void 0),(0,m.gn)([(0,g.ep)("symbol",String,g.M_.IGNORE_NULLABLE)],jt.prototype,"symbol",void 0);var Kt=jt=(0,m.gn)([(0,g.sT)("NftModuleMetadata")],jt),zt=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).sellerFeeBasisPoints=0,e.feeRecipient=void 0,e}return T(e,t),e}(Et);(0,m.gn)([(0,g.ep)("seller_fee_basis_points",Number,g.M_.IGNORE_NULLABLE)],zt.prototype,"sellerFeeBasisPoints",void 0),(0,m.gn)([(0,g.ep)("fee_recipient",String,g.M_.IGNORE_NULLABLE)],zt.prototype,"feeRecipient",void 0);var $t=zt=(0,m.gn)([(0,g.sT)("PackModuleMetadata")],zt),qt=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).recipientSplits=[],e}return T(e,t),e}(Et),Ht=qt=(0,m.gn)([(0,g.sT)("SplitsModuleMetadata")],qt),Wt=function(t){function e(){return t.apply(this,arguments)||this}T(e,t);var r=e.prototype;return r.getModuleRoles=function(){return e.roles},r.connectContract=function(){return u.jQ.connect(this.address,this.providerOrSigner)},r.getModuleType=function(){return e.moduleType},r.get=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H(this.providerOrSigner,this.address);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.getValue=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y(this.providerOrSigner,this.address,l.O$.from(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.totalSupply=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readOnlyContract.totalSupply();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.balance=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this,t.next=3,this.getSignerAddress();case 3:return t.t1=t.sent,t.next=6,t.t0.balanceOf.call(t.t0,t.t1);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.balanceOf=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this,t.next=3,this.readOnlyContract.balanceOf(e);case 3:return t.t1=t.sent,t.next=6,t.t0.getValue.call(t.t0,t.t1);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.allowance=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this,t.next=3,this.getSignerAddress();case 3:return t.t1=t.sent,t.t2=e,t.next=7,t.t0.allowanceOf.call(t.t0,t.t1,t.t2);case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.allowanceOf=function(){var t=b(N.mark((function t(e,r){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readOnlyContract.allowance(e,r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.transfer=function(){var t=b(N.mark((function t(e,r){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendTransaction("transfer",[e,r]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.setAllowance=function(){var t=b(N.mark((function t(e,r){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendTransaction("approve",[e,r]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.mint=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this,t.next=3,this.getSignerAddress();case 3:return t.t1=t.sent,t.t2=e,t.next=7,t.t0.mintTo.call(t.t0,t.t1,t.t2);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.mintTo=function(){var t=b(N.mark((function t(e,r){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendTransaction("mint",[e,r]);case 2:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.mintBatchTo=function(){var t=b(N.mark((function t(e){var r,n,s,a;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=[],n=L(e);!(s=n()).done;)a=s.value,r.push(this.contract.interface.encodeFunctionData("mint",[a.address,a.amount]));return t.next=4,this.sendTransaction("multicall",[r]);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.burn=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendTransaction("burn",[e]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.burnFrom=function(){var t=b(N.mark((function t(e,r){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendTransaction("burnFrom",[e,r]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.transferFrom=function(){var t=b(N.mark((function t(e,r,n){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendTransaction("transferFrom",[e,r,n]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}(),r.setModuleMetadata=function(){var t=b(N.mark((function t(e){var r;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(e);case 2:return r=t.sent,t.next=5,this.sendTransaction("setContractURI",[r]);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.setRestrictedTransfer=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!1),t.next=3,this.sendTransaction("setRestrictedTransfer",[e]);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.transferBatch=function(){var t=b(N.mark((function t(e){var r,n=this;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.map((function(t){return n.contract.interface.encodeFunctionData("transfer",[t.address,t.amount])})),t.next=3,this.sendTransaction("multicall",[r]);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.transferFromBatch=function(){var t=b(N.mark((function t(e){var r,n=this;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.map((function(t){return n.contract.interface.encodeFunctionData("transferFrom",[t.fromAddress,t.address,t.amount])})),t.next=3,this.sendTransaction("multicall",[r]);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e}(Mt);Wt.moduleType=Z.CURRENCY,Wt.roles=[ct,pt,ft,lt];var Yt=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).jsonConvert=new g.Q9,e.moduleType=-1,e}T(e,t);var r=e.prototype;return r.getModuleRoles=function(){return Wt.roles},r.connectContract=function(){return u.Pw.connect(this.address,this.providerOrSigner)},r.getModuleType=function(){return this.moduleType},r.getModuleAddress=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readOnlyContract.getAllModulesOfType(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.getNFTAddress=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getModuleAddress(Z.NFT));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.getBundleAddress=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getModuleAddress(Z.BUNDLE));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.getPackAddress=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getModuleAddress(Z.PACK));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.getCurrencyAddress=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getModuleAddress(Z.CURRENCY));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.getMarketAddress=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getModuleAddress(Z.MARKET));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.getDropAddress=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getModuleAddress(Z.DROP));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.getDatastoreAddress=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getModuleAddress(Z.DATASTORE));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.getRoyaltyTreasury=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readOnlyContract.getRoyaltyTreasury(e||o.d);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.getAllContractMetadata=function(){var t=b(N.mark((function t(e){var r,n=this;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.map((function(t){return K(n.providerOrSigner,t,n.ipfsGatewayUrl)})));case 2:return r=t.sent,t.abrupt("return",e.filter((function(t){return t})).map((function(t,e){return{address:t,metadata:r[e]}})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r.getPackModules=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this,t.next=3,this.getPackAddress();case 3:return t.t1=t.sent,t.next=6,t.t0.getAllContractMetadata.call(t.t0,t.t1);case 6:return t.abrupt("return",t.sent.map((function(t){return O({},t,{type:Z.PACK})})));case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.getNFTModules=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this,t.next=3,this.getNFTAddress();case 3:return t.t1=t.sent,t.next=6,t.t0.getAllContractMetadata.call(t.t0,t.t1);case 6:return t.abrupt("return",t.sent.map((function(t){return O({},t,{type:Z.NFT})})));case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.getCollectionModules=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getBundleModules();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.getBundleModules=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this,t.next=3,this.getBundleAddress();case 3:return t.t1=t.sent,t.next=6,t.t0.getAllContractMetadata.call(t.t0,t.t1);case 6:return t.abrupt("return",t.sent.map((function(t){return O({},t,{type:Z.BUNDLE})})));case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.getCurrencyModules=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this,t.next=3,this.getCurrencyAddress();case 3:return t.t1=t.sent,t.next=6,t.t0.getAllContractMetadata.call(t.t0,t.t1);case 6:return t.abrupt("return",t.sent.map((function(t){return O({},t,{type:Z.CURRENCY})})));case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.getDatastoreModules=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this,t.next=3,this.getDatastoreAddress();case 3:return t.t1=t.sent,t.next=6,t.t0.getAllContractMetadata.call(t.t0,t.t1);case 6:return t.abrupt("return",t.sent.map((function(t){return O({},t,{type:Z.DATASTORE})})));case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.getMarketModules=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this,t.next=3,this.getMarketAddress();case 3:return t.t1=t.sent,t.next=6,t.t0.getAllContractMetadata.call(t.t0,t.t1);case 6:return t.abrupt("return",t.sent.map((function(t){return O({},t,{type:Z.MARKET})})));case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.getDropModules=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this,t.next=3,this.getDropAddress();case 3:return t.t1=t.sent,t.next=6,t.t0.getAllContractMetadata.call(t.t0,t.t1);case 6:return t.abrupt("return",t.sent.map((function(t){return O({},t,{type:Z.DROP})})));case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.getAllModuleMetadata=function(){var t=b(N.mark((function t(e){var r,n=this;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e||[Z.NFT,Z.BUNDLE,Z.PACK,Z.CURRENCY,Z.MARKET,Z.DROP,Z.DATASTORE],t.next=3,Promise.all(r.map(function(){var t=b(N.mark((function t(e){var r;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getModuleAddress(e);case 2:return r=t.sent,t.next=5,n.getAllContractMetadata(r);case 5:return t.abrupt("return",t.sent.map((function(t){return O({},t,{type:e})})));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 3:return t.abrupt("return",t.sent.reduce((function(t,e){return t.concat(e)}),[]));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r.setModuleMetadata=function(){var t=b(N.mark((function t(e){var r;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(e);case 2:return r=t.sent,t.next=5,this.sendTransaction("setContractURI",[r]);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.setRoyaltyTreasury=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendTransaction("setRoyaltyTreasury",[e]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.setModuleRoyaltyTreasury=function(){var t=b(N.mark((function t(e,r){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendTransaction("setModuleRoyaltyTreasury",[e,r]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.withdrawFunds=function(){var t=b(N.mark((function t(e,r){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendTransaction("withdrawFunds",[e,r]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r._deployModule=function(){var t=b(N.mark((function t(e,r,n){var s,a,u,o,p,f;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sdk.getGasPrice();case 2:return a=t.sent,u=a?{gasPrice:c.parseUnits(a.toString(),"gwei")}:{},t.next=6,(s=new i.lV(n.abi,n.bytecode).connect(this.signer)).deploy.apply(s,r.concat([u]));case 6:return o=t.sent,t.next=9,o.deployed();case 9:return p=o.address,t.next=12,this.contract.addModule(p,e,u);case 12:return f=t.sent,t.next=15,f.wait();case 15:return t.abrupt("return",p);case 16:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}(),r.deployBundleModule=function(){var t=b(N.mark((function t(e){var r,n,s;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.jsonConvert.serializeObject(e,Lt),t.t0=U,t.t1=r,t.t2=this.address,t.next=6,this.getSignerAddress();case 6:return t.t3=t.sent,t.next=9,(0,t.t0)(t.t1,t.t2,t.t3);case 9:return n=t.sent,t.t4=this,t.t5=Z.COLLECTION,t.t6=this.address,t.next=15,this.sdk.getForwarderAddress();case 15:return t.t7=t.sent,t.t8=n,t.t9=l.O$.from(e.sellerFeeBasisPoints?e.sellerFeeBasisPoints:0),t.t10=[t.t6,t.t7,t.t8,t.t9],t.t11=u.Un,t.next=22,t.t4._deployModule.call(t.t4,t.t5,t.t10,t.t11);case 22:return s=t.sent,t.abrupt("return",this.sdk.getCollectionModule(s));case 24:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.deploySplitsModule=function(){var t=b(N.mark((function t(e){var r,n,s;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.jsonConvert.serializeObject(e,Ht),t.t0=U,t.t1=r,t.t2=this.address,t.next=6,this.getSignerAddress();case 6:return t.t3=t.sent,t.next=9,(0,t.t0)(t.t1,t.t2,t.t3);case 9:return n=t.sent,t.t4=this,t.t5=Z.SPLITS,t.t6=this.address,t.next=15,this.sdk.getForwarderAddress();case 15:return t.t7=t.sent,t.t8=n,t.t9=e.recipientSplits.map((function(t){return t.address})),t.t10=e.recipientSplits.map((function(t){return t.shares})),t.t11=[t.t6,t.t7,t.t8,t.t9,t.t10],t.t12=u.Ai,t.next=23,t.t4._deployModule.call(t.t4,t.t5,t.t11,t.t12);case 23:return s=t.sent,t.abrupt("return",this.sdk.getSplitsModule(s));case 25:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.deployNftModule=function(){var t=b(N.mark((function t(e){var r,n,s;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.jsonConvert.serializeObject(e,Kt),t.t0=U,t.t1=r,t.t2=this.address,t.next=6,this.getSignerAddress();case 6:return t.t3=t.sent,t.next=9,(0,t.t0)(t.t1,t.t2,t.t3);case 9:return n=t.sent,t.t4=this,t.t5=Z.NFT,t.t6=this.address,t.t7=e.name,t.t8=e.symbol?e.symbol:"",t.next=17,this.sdk.getForwarderAddress();case 17:return t.t9=t.sent,t.t10=n,t.t11=e.sellerFeeBasisPoints,t.t12=[t.t6,t.t7,t.t8,t.t9,t.t10,t.t11],t.t13=u.Jj,t.next=24,t.t4._deployModule.call(t.t4,t.t5,t.t12,t.t13);case 24:return s=t.sent,t.abrupt("return",this.sdk.getNFTModule(s));case 26:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.deployCurrencyModule=function(){var t=b(N.mark((function t(e){var r,n,s;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.jsonConvert.serializeObject(e,Nt),t.t0=U,t.t1=r,t.t2=this.address,t.next=6,this.getSignerAddress();case 6:return t.t3=t.sent,t.next=9,(0,t.t0)(t.t1,t.t2,t.t3);case 9:return n=t.sent,t.t4=this,t.t5=Z.CURRENCY,t.t6=this.address,t.t7=e.name,t.t8=e.symbol?e.symbol:"",t.next=17,this.sdk.getForwarderAddress();case 17:return t.t9=t.sent,t.t10=n,t.t11=[t.t6,t.t7,t.t8,t.t9,t.t10],t.t12=u.jQ,t.next=23,t.t4._deployModule.call(t.t4,t.t5,t.t11,t.t12);case 23:return s=t.sent,t.abrupt("return",this.sdk.getCurrencyModule(s));case 25:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.deployMarketModule=function(){var t=b(N.mark((function t(e){var r,n,s;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.jsonConvert.serializeObject(e,Gt),t.t0=U,t.t1=r,t.t2=this.address,t.next=6,this.getSignerAddress();case 6:return t.t3=t.sent,t.next=9,(0,t.t0)(t.t1,t.t2,t.t3);case 9:return n=t.sent,t.t4=this,t.t5=Z.MARKET,t.t6=this.address,t.next=15,this.sdk.getForwarderAddress();case 15:return t.t7=t.sent,t.t8=n,t.t9=e.marketFeeBasisPoints?e.marketFeeBasisPoints:0,t.t10=[t.t6,t.t7,t.t8,t.t9],t.t11=u.Te,t.next=22,t.t4._deployModule.call(t.t4,t.t5,t.t10,t.t11);case 22:return s=t.sent,t.abrupt("return",this.sdk.getMarketModule(s));case 24:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.deployPackModule=function(){var t=b(N.mark((function t(e){var r,n,s,a,i,o,c,p,f;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.jsonConvert.serializeObject(e,$t),t.t0=U,t.t1=r,t.t2=this.address,t.next=6,this.getSignerAddress();case 6:return t.t3=t.sent,t.next=9,(0,t.t0)(t.t1,t.t2,t.t3);case 9:return n=t.sent,t.next=12,this.getChainID();case 12:return s=t.sent,a=tt[s],i=a.vrfCoordinator,o=a.linkTokenAddress,c=a.keyHash,p=a.fees,t.t4=this,t.t5=Z.PACK,t.t6=this.address,t.t7=n,t.t8=i,t.t9=o,t.t10=c,t.t11=p,t.next=24,this.sdk.getForwarderAddress();case 24:return t.t12=t.sent,t.t13=e.sellerFeeBasisPoints?e.sellerFeeBasisPoints:0,t.t14=[t.t6,t.t7,t.t8,t.t9,t.t10,t.t11,t.t12,t.t13],t.t15=u.KM,t.next=30,t.t4._deployModule.call(t.t4,t.t5,t.t14,t.t15);case 30:return f=t.sent,t.abrupt("return",this.sdk.getPackModule(f));case 32:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.deployDropModule=function(){var t=b(N.mark((function t(e){var r,n,s;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e.maxSupply&&kt(!1),""!==e.primarySaleRecipientAddress&&(0,x.isAddress)(e.primarySaleRecipientAddress)||kt(!1),r=this.jsonConvert.serializeObject(e,Ut),t.t0=U,t.t1=r,t.t2=this.address,t.next=8,this.getSignerAddress();case 8:return t.t3=t.sent,t.next=11,(0,t.t0)(t.t1,t.t2,t.t3);case 11:return n=t.sent,t.t4=this,t.t5=Z.DROP,t.t6=this.address,t.t7=e.name,t.t8=e.symbol?e.symbol:"",t.next=19,this.sdk.getForwarderAddress();case 19:return t.t9=t.sent,t.t10=n,t.t11=e.baseTokenUri?e.baseTokenUri:"",t.t12=e.maxSupply,t.t13=e.sellerFeeBasisPoints?e.sellerFeeBasisPoints:0,t.t14=e.primarySaleFeeBasisPoints?e.primarySaleFeeBasisPoints:0,t.t15=e.primarySaleRecipientAddress,t.t16=[t.t6,t.t7,t.t8,t.t9,t.t10,t.t11,t.t12,t.t13,t.t14,t.t15],t.t17=u.Ct,t.next=30,t.t4._deployModule.call(t.t4,t.t5,t.t16,t.t17);case 30:return s=t.sent,t.abrupt("return",this.sdk.getDropModule(s));case 32:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.deployDatastoreModule=function(){var t=b(N.mark((function t(e){var r,n,s;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.jsonConvert.serializeObject(e,Bt),t.t0=U,t.t1=r,t.t2=this.address,t.next=6,this.getSignerAddress();case 6:return t.t3=t.sent,t.next=9,(0,t.t0)(t.t1,t.t2,t.t3);case 9:return n=t.sent,t.t4=this,t.t5=Z.DATASTORE,t.t6=this.address,t.next=15,this.sdk.getForwarderAddress();case 15:return t.t7=t.sent,t.t8=n,t.t9=[t.t6,t.t7,t.t8],t.t10=u.S7,t.next=21,t.t4._deployModule.call(t.t4,t.t5,t.t9,t.t10);case 21:return s=t.sent,t.abrupt("return",this.sdk.getDatastoreModule(s));case 23:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e}(Mt);Yt.roles=[ct];var Jt=function(t){function e(){return t.apply(this,arguments)||this}T(e,t);var r=e.prototype;return r.getModuleRoles=function(){return e.roles},r.connectContract=function(){return u.Un.connect(this.address,this.providerOrSigner)},r.getModuleType=function(){return e.moduleType},r.get=function(){var t=b(N.mark((function t(e,r){var n,s,a,i,u;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=Promise,t.t1=st(this.readOnlyContract,e,this.ipfsGatewayUrl),t.t2=this.readOnlyContract.creator(e),t.t3=this.readOnlyContract.totalSupply(e).catch((function(){return l.O$.from("0")})),!r){t.next=10;break}return t.next=7,this.balanceOf(r,e);case 7:t.t4=t.sent.toNumber(),t.next=11;break;case 10:t.t4=0;case 11:return t.t5=t.t4,t.t6=[t.t1,t.t2,t.t3,t.t5],t.next=15,t.t0.all.call(t.t0,t.t6);case 15:return n=t.sent,s=n[0],a=n[1],i=n[2],u=n[3],t.abrupt("return",{creator:a,supply:i,metadata:s,ownedByAddress:u});case 21:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.getAll=function(){var t=b(N.mark((function t(e){var r,n=this;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readOnlyContract.nextTokenId();case 2:return r=t.sent.toNumber(),t.next=5,Promise.all(Array.from(Array(r).keys()).map((function(t){return n.get(t.toString(),e)})));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.balanceOf=function(){var t=b(N.mark((function t(e,r){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readOnlyContract.balanceOf(e,r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.balance=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this.readOnlyContract,t.next=3,this.getSignerAddress();case 3:return t.t1=t.sent,t.t2=e,t.next=7,t.t0.balanceOf.call(t.t0,t.t1,t.t2);case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.isApproved=function(){var t=b(N.mark((function t(e,r,n,s){var a,i,o;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=4;break}return t.next=3,this.readOnlyContract.isApprovedForAll(e,r);case 3:return t.abrupt("return",t.sent);case 4:if(s){t.next=6;break}throw new Error("tokenId is required");case 6:return a=u.aC.connect(n,this.providerOrSigner),t.t0=a,t.next=10,this.getSignerAddress();case 10:return t.t1=t.sent,t.t2=this.address,t.next=14,t.t0.isApprovedForAll.call(t.t0,t.t1,t.t2);case 14:return i=t.sent,t.next=17,a.getApproved(s);case 17:return t.t3=t.sent.toLowerCase(),t.t4=this.address.toLowerCase(),o=t.t3===t.t4,t.abrupt("return",i||o);case 21:case"end":return t.stop()}}),t,this)})));return function(e,r,n,s){return t.apply(this,arguments)}}(),r.setApproval=function(){var t=b(N.mark((function t(e,r){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=!0),t.next=3,this.sendTransaction("setApprovalForAll",[e,r]);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.transfer=function(){var t=b(N.mark((function t(e,r,n){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this,t.next=3,this.getSignerAddress();case 3:return t.t1=t.sent,t.t2=e,t.t3={tokenId:r,amount:n},t.t4=[0],t.next=9,t.t0.transferFrom.call(t.t0,t.t1,t.t2,t.t3,t.t4);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}(),r.create=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.createBatch([e]);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.createBatch=function(){var t=b(N.mark((function t(e){var r;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.map((function(t){return{metadata:t,supply:0}})),t.abrupt("return",this.createAndMintBatch(r));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.createAndMint=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.createAndMintBatch([e]);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.createAndMintBatch=function(){var t=b(N.mark((function t(e){var r,n,s,a,i,u,o=this;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.map((function(t){return t.metadata})).map((function(t){return U(t)})));case 2:return r=t.sent,n=e.map((function(t){return t.supply})),t.next=6,this.getSignerAddress();case 6:return s=t.sent,t.next=9,this.sendTransaction("createNativeTokens",[s,r,n,[0]]);case 9:return a=t.sent,i=this.parseEventLogs("NativeTokens",null==a?void 0:a.logs),u=null==i?void 0:i.tokenIds,t.next=14,Promise.all(u.map((function(t){return o.get(t.toString())})));case 14:return t.abrupt("return",t.sent);case 15:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.createWithToken=function(){var t=b(N.mark((function t(e,r,n){var s;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(n.metadata);case 2:return s=t.sent,t.next=5,this.sendTransaction("wrapERC20",[e,r,n.supply,s]);case 5:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}(),r.createWithErc20=function(){var t=b(N.mark((function t(e,r,n){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.createWithToken(e,r,n));case 1:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}(),r.createWithNFT=function(){var t=b(N.mark((function t(e,r,n){var s;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(n);case 2:return s=t.sent,t.next=5,this.sendTransaction("wrapERC721",[e,r,s]);case 5:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}(),r.createWithERC721=function(){var t=b(N.mark((function t(e,r,n){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.createWithNFT(e,r,n));case 1:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}(),r.mint=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this,t.next=3,this.getSignerAddress();case 3:return t.t1=t.sent,t.t2=e,t.next=7,t.t0.mintTo.call(t.t0,t.t1,t.t2);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.mintTo=function(){var t=b(N.mark((function t(e,r,n){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=[0]),t.next=3,this.sendTransaction("mint",[e,r.tokenId,r.amount,n]);case 3:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}(),r.mintBatch=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this,t.next=3,this.getSignerAddress();case 3:return t.t1=t.sent,t.t2=e,t.next=7,t.t0.mintBatchTo.call(t.t0,t.t1,t.t2);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.mintBatchTo=function(){var t=b(N.mark((function t(e,r,n){var s,a;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=[0]),s=r.map((function(t){return t.tokenId})),a=r.map((function(t){return t.amount})),t.next=5,this.sendTransaction("mintBatch",[e,s,a,n]);case 5:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}(),r.burn=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this,t.next=3,this.getSignerAddress();case 3:return t.t1=t.sent,t.t2=e,t.next=7,t.t0.burnFrom.call(t.t0,t.t1,t.t2);case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.burnBatch=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this,t.next=3,this.getSignerAddress();case 3:return t.t1=t.sent,t.t2=e,t.next=7,t.t0.burnBatchFrom.call(t.t0,t.t1,t.t2);case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.burnFrom=function(){var t=b(N.mark((function t(e,r){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendTransaction("burn",[e,r.tokenId,r.amount]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.burnBatchFrom=function(){var t=b(N.mark((function t(e,r){var n,s;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.map((function(t){return t.tokenId})),s=r.map((function(t){return t.amount})),t.next=4,this.sendTransaction("burnBatch",[e,n,s]);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.transferFrom=function(){var t=b(N.mark((function t(e,r,n,s){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===s&&(s=[0]),t.next=3,this.sendTransaction("safeTransferFrom",[e,r,n.tokenId,n.amount,s]);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(e,r,n,s){return t.apply(this,arguments)}}(),r.transferBatchFrom=function(){var t=b(N.mark((function t(e,r,n,s){var a,i;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===s&&(s=[0]),a=n.map((function(t){return t.tokenId})),i=n.map((function(t){return t.amount})),t.next=5,this.sendTransaction("safeBatchTransferFrom",[e,r,a,i,s]);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));return function(e,r,n,s){return t.apply(this,arguments)}}(),r.setRoyaltyBps=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendTransaction("setRoyaltyBps",[e]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.setModuleMetadata=function(){var t=b(N.mark((function t(e){var r;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(e);case 2:return r=t.sent,t.next=5,this.sendTransaction("setContractURI",[r]);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.setRestrictedTransfer=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!1),t.next=3,this.sendTransaction("setRestrictedTransfer",[e]);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.getOwned=function(){var t=b(N.mark((function t(e){var r,n,s,a,i=this;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=4;break}t.t0=e,t.next=7;break;case 4:return t.next=6,this.getSignerAddress();case 6:t.t0=t.sent;case 7:return r=t.t0,t.next=10,this.readOnlyContract.nextTokenId();case 10:return n=t.sent,t.next=13,this.readOnlyContract.balanceOfBatch(Array(n.toNumber()).fill(r),Array.from(Array(n.toNumber()).keys()));case 13:return s=t.sent,a=s.map((function(t,e){return{tokenId:e,balance:t}})).filter((function(t){return t.balance.gt(0)})),t.next=17,Promise.all(a.map(function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.get(e.tokenId.toString());case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 17:return t.abrupt("return",t.sent);case 18:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e}(Mt);Jt.moduleType=Z.BUNDLE,Jt.roles=[ct,pt,ft,lt];var Vt=function(t){function e(){return t.apply(this,arguments)||this}T(e,t);var r=e.prototype;return r.getModuleRoles=function(){return e.roles},r.connectContract=function(){return u.S7.connect(this.address,this.providerOrSigner)},r.getModuleType=function(){return e.moduleType},r.getUint=function(){var t=b(N.mark((function t(e){var r;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,p.keccak256)(e.toString()),t.next=3,this.readOnlyContract.getUint(r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.setUint=function(){var t=b(N.mark((function t(e,r){var n;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,p.keccak256)(e.toString()),t.next=3,this.sendTransaction("setUint",[n,r]);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),e}(Mt);Vt.moduleType=Z.DATASTORE,Vt.roles=[ct,ht];var Qt=function(t){function e(){return t.apply(this,arguments)||this}T(e,t);var r=e.prototype;return r.getModuleRoles=function(){return e.roles},r.connectContract=function(){return u.Ct.connect(this.address,this.providerOrSigner)},r.getModuleType=function(){return e.moduleType},r.getTokenMetadata=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,st(this.readOnlyContract,e,this.ipfsGatewayUrl);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.get=function(){var t=b(N.mark((function t(e){var r,n,s;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([this.ownerOf(e).catch((function(){return o.d})),this.getTokenMetadata(e)]);case 2:return r=t.sent,n=r[0],s=r[1],t.abrupt("return",{owner:n,metadata:s});case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.getAll=function(){var t=b(N.mark((function t(){var e,r=this;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readOnlyContract.nextTokenId();case 2:return e=t.sent.toNumber(),t.next=5,Promise.all(Array.from(Array(e).keys()).map((function(t){return r.get(t.toString())})));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.getAllUnclaimed=function(){var t=b(N.mark((function t(){var e,r,n=this;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readOnlyContract.nextTokenId();case 2:return e=t.sent,t.next=5,this.readOnlyContract.nextMintTokenId();case 5:return r=t.sent,t.next=8,Promise.all(Array.from(Array(e.sub(r).toNumber()).keys()).map((function(t){return n.get(r.add(t).toString())})));case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.getAllClaimed=function(){var t=b(N.mark((function t(){var e,r=this;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readOnlyContract.nextMintTokenId();case 2:return e=t.sent.toNumber(),t.next=5,Promise.all(Array.from(Array(e).keys()).map((function(t){return r.get(t.toString())})));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.ownerOf=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readOnlyContract.ownerOf(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.getOwned=function(){var t=b(N.mark((function t(e){var r,n,s,a,i=this;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=4;break}t.t0=e,t.next=7;break;case 4:return t.next=6,this.getSignerAddress();case 6:t.t0=t.sent;case 7:return r=t.t0,t.next=10,this.readOnlyContract.balanceOf(r);case 10:return n=t.sent,s=Array.from(Array(n.toNumber()).keys()),t.next=14,Promise.all(s.map((function(t){return i.readOnlyContract.tokenOfOwnerByIndex(r,t)})));case 14:return a=t.sent,t.next=17,Promise.all(a.map((function(t){return i.get(t.toString())})));case 17:return t.abrupt("return",t.sent);case 18:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.getActiveMintCondition=function(){var t=b(N.mark((function t(){var e;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readOnlyContract.getLastStartedMintConditionIndex();case 2:return e=t.sent,t.next=5,this.readOnlyContract.mintConditions(e);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.getAllMintConditions=function(){var t=b(N.mark((function t(){var e,r;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=[],r=0;case 2:return t.prev=2,t.t0=e,t.next=6,this.readOnlyContract.mintConditions(r);case 6:t.t1=t.sent,t.t0.push.call(t.t0,t.t1),t.next=13;break;case 10:return t.prev=10,t.t2=t.catch(2),t.abrupt("break",16);case 13:r++,t.next=2;break;case 16:return t.abrupt("return",e);case 17:case"end":return t.stop()}}),t,this,[[2,10]])})));return function(){return t.apply(this,arguments)}}(),r.totalSupply=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readOnlyContract.nextTokenId();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.maxTotalSupply=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readOnlyContract.maxTotalSupply();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.totalUnclaimedSupply=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readOnlyContract.nextTokenId();case 2:return t.t0=t.sent,t.next=5,this.totalClaimedSupply();case 5:return t.t1=t.sent,t.abrupt("return",t.t0.sub.call(t.t0,t.t1));case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.totalClaimedSupply=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readOnlyContract.nextMintTokenId();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.balanceOf=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readOnlyContract.balanceOf(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.balance=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this,t.next=3,this.getSignerAddress();case 3:return t.t1=t.sent,t.next=6,t.t0.balanceOf.call(t.t0,t.t1);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.isApproved=function(){var t=b(N.mark((function t(e,r){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readOnlyContract.isApprovedForAll(e,r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.setApproval=function(){var t=b(N.mark((function t(e,r){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=!0),t.next=3,this.sendTransaction("setApprovalForAll",[e,r]);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.transfer=function(){var t=b(N.mark((function t(e,r){var n;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getSignerAddress();case 2:return n=t.sent,t.next=5,this.sendTransaction("safeTransferFrom(address,address,uint256)",[n,e,r]);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.lazyMint=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.lazyMintBatch([e]);case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.lazyMintBatch=function(){var t=b(N.mark((function t(e){var r;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.map((function(t){return U(t)})));case 2:return r=t.sent,t.next=5,this.sendTransaction("lazyMintBatch",[r]);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.lazyMintAmount=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendTransaction("lazyMintAmount",[e]);case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.setPublicMintConditions=function(){var t=b(N.mark((function t(e){var r;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.map((function(t){return{startTimestamp:t.startTimestampInSeconds||0,maxMintSupply:t.maxMintSupply,currentMintSupply:0,quantityLimitPerTransaction:t.quantityLimitPerTransaction||t.maxMintSupply,waitTimeSecondsLimitPerTransaction:t.waitTimeSecondsLimitPerTransaction||0,pricePerToken:t.pricePerToken||0,currency:t.currency||o.d,merkleRoot:t.merkleRoot||(0,a.hexZeroPad)([0],32)}})),t.next=3,this.sendTransaction("setPublicMintConditions",[r]);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.claim=function(){var t=b(N.mark((function t(e){var r,n,s;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[(0,a.hexZeroPad)([0],32)],t.next=3,this.getActiveMintCondition();case 3:return n=t.sent,t.next=6,this.getCallOverrides();case 6:if(t.t0=t.sent,t.t0){t.next=9;break}t.t0={};case 9:return s=t.t0,n.currency===o.d&&n.pricePerToken>0&&(s.value=l.O$.from(n.pricePerToken).mul(e)),t.next=13,this.sendTransaction("claim",[e,r],s);case 13:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.burn=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendTransaction("burn",[e]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.transferFrom=function(){var t=b(N.mark((function t(e,r,n){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendTransaction("transferFrom",[e,r,n]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}(),r.setModuleMetadata=function(){var t=b(N.mark((function t(e){var r;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(e);case 2:return r=t.sent,t.next=5,this.sendTransaction("setContractURI",[r]);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.setRoyaltyBps=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendTransaction("setRoyaltyBps",[e]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.setBaseTokenUri=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendTransaction("setBaseTokenURI",[e]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.setMaxTotalSupply=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendTransaction("setMaxTotalSupply",[e]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.setRestrictedTransfer=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendTransaction("setRestrictedTransfer",[e]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e}(Mt);Qt.moduleType=Z.DROP,Qt.roles=[ct,pt,ft,lt];var Xt=function(t){function e(){return t.apply(this,arguments)||this}T(e,t);var r=e.prototype;return r.getModuleRoles=function(){return e.roles},r.connectContract=function(){return u.Te.connect(this.address,this.providerOrSigner)},r.getModuleType=function(){return e.moduleType},r.transformResultToListing=function(){var t=b(N.mark((function t(e){var r,n;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=null,t.prev=1,t.next=4,Y(this.providerOrSigner,e.currency,e.pricePerToken);case 4:r=t.sent,t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:return n=void 0,t.prev=10,t.next=13,rt(this.providerOrSigner,e.assetContract,e.tokenId.toString(),this.ipfsGatewayUrl);case 13:n=t.sent,t.next=18;break;case 16:t.prev=16,t.t1=t.catch(10);case 18:return t.abrupt("return",{id:e.listingId.toString(),seller:e.seller,tokenId:e.tokenId.toString(),tokenContract:e.assetContract,tokenMetadata:n,quantity:e.quantity,price:e.pricePerToken,currencyContract:e.currency,currencyMetadata:r,saleStart:e.saleStart.gt(0)?new Date(1e3*e.saleStart.toNumber()):null,saleEnd:e.saleEnd.gt(0)&&e.saleEnd.lte(Number.MAX_SAFE_INTEGER-1)?new Date(1e3*e.saleEnd.toNumber()):null});case 19:case"end":return t.stop()}}),t,this,[[1,7],[10,16]])})));return function(e){return t.apply(this,arguments)}}(),r.getListing=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.get(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.getAllListings=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getAll(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.get=function(){var t=b(N.mark((function t(e){var r;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readOnlyContract.listings(e);case 2:return r=t.sent,t.next=5,this.transformResultToListing(r);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.getAll=function(){var t=b(N.mark((function t(e){var r,n=this;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=[],e){t.next=9;break}return t.t0=r,t.next=5,this.readOnlyContract.getAllListings();case 5:t.t1=t.sent,r=t.t0.concat.call(t.t0,t.t1),t.next=38;break;case 9:if(!e.tokenContract||!e.tokenId){t.next=17;break}return t.t2=r,t.next=13,this.readOnlyContract.getListingsByAsset(e.tokenContract,e.tokenId);case 13:t.t3=t.sent,r=t.t2.concat.call(t.t2,t.t3),t.next=38;break;case 17:if(!e.seller){t.next=25;break}return t.t4=r,t.next=21,this.readOnlyContract.getListingsBySeller(e.seller);case 21:t.t5=t.sent,r=t.t4.concat.call(t.t4,t.t5),t.next=38;break;case 25:if(!e.tokenContract){t.next=33;break}return t.t6=r,t.next=29,this.readOnlyContract.getListingsByAssetContract(e.tokenContract);case 29:t.t7=t.sent,r=t.t6.concat.call(t.t6,t.t7),t.next=38;break;case 33:return t.t8=r,t.next=36,this.readOnlyContract.getAllListings();case 36:t.t9=t.sent,r=t.t8.concat.call(t.t8,t.t9);case 38:return r=r.filter((function(t){if(t.quantity.eq(0))return!1;if(e){var r=(null==e?void 0:e.seller)||"",n=(null==e?void 0:e.tokenContract)||"",s=(null==e?void 0:e.tokenId)||"";if(r&&r.toLowerCase()!==t.seller.toLowerCase())return!1;if(n&&n.toLowerCase()!==t.assetContract.toLowerCase())return!1;if(s&&s.toLowerCase()!==t.tokenId.toString().toLowerCase())return!1}return!0})).map((function(t){return n.transformResultToListing(t)})),t.next=41,Promise.all(r);case 41:return t.abrupt("return",t.sent);case 42:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.getMarketFeeBps=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readOnlyContract.marketFeeBps();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.list=function(){var t=b(N.mark((function t(e,r,n,s,a,i,o,c){var p,f,l,h,d,v,y,x,g;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===i&&(i=0),void 0===o&&(o=0),void 0===c&&(c=0),t.next=5,this.getSignerAddress();case 5:return p=t.sent,f=u.Hw.connect(e,this.providerOrSigner),t.next=9,f.supportsInterface(G);case 9:if(!t.sent){t.next=34;break}return l=u.aC.connect(e,this.providerOrSigner),t.next=14,l.isApprovedForAll(p,this.address);case 14:if(t.sent){t.next=32;break}return t.next=18,l.getApproved(r);case 18:if(t.t0=t.sent.toLowerCase(),t.t1=this.address.toLowerCase(),t.t0===t.t1){t.next=32;break}return t.t2=l,t.t3=this.address,t.next=26,this.getCallOverrides();case 26:return t.t4=t.sent,t.next=29,t.t2.setApprovalForAll.call(t.t2,t.t3,!0,t.t4);case 29:return h=t.sent,t.next=32,h.wait();case 32:t.next=49;break;case 34:return d=u.bP.connect(e,this.providerOrSigner),t.next=37,d.isApprovedForAll(p,this.address);case 37:if(t.sent){t.next=49;break}return t.t5=d,t.t6=this.address,t.next=43,this.getCallOverrides();case 43:return t.t7=t.sent,t.next=46,t.t5.setApprovalForAll.call(t.t5,t.t6,!0,t.t7);case 46:return v=t.sent,t.next=49,v.wait();case 49:return t.next=51,this.sendTransaction("list",[e,r,n,s,a,i,o,c]);case 51:return y=t.sent,x=this.parseEventLogs("NewListing",null==y?void 0:y.logs),g=null==x?void 0:x.listing,t.next=56,this.transformResultToListing(g);case 56:return t.abrupt("return",t.sent);case 57:case"end":return t.stop()}}),t,this)})));return function(e,r,n,s,a,i,u,o){return t.apply(this,arguments)}}(),r.unlistAll=function(){var t=b(N.mark((function t(e){var r;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.get(e);case 2:return r=t.sent.quantity,t.next=5,this.unlist(e,r);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.unlist=function(){var t=b(N.mark((function t(e,r){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendTransaction("unlist",[e,r]);case 2:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.buy=function(){var t=b(N.mark((function t(e,r){var n,s,a,i,c,p,f,h;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.get(e);case 2:return n=t.sent,t.next=5,this.getSignerAddress();case 5:if(s=t.sent,a=this.address,i=n.price.mul(l.O$.from(r)),!n.currencyContract||n.currencyContract===o.d){t.next=25;break}return c=u.w6.connect(n.currencyContract,this.providerOrSigner),t.next=12,c.allowance(s,a);case 12:if(!t.sent.lt(i)){t.next=25;break}return t.t0=c,t.t1=a,t.t2=i,t.next=19,this.getCallOverrides();case 19:return t.t3=t.sent,t.next=22,t.t0.increaseAllowance.call(t.t0,t.t1,t.t2,t.t3);case 22:return p=t.sent,t.next=25,p.wait();case 25:return t.next=27,this.sendTransaction("buy",[e,r]);case 27:return f=t.sent,h=this.parseEventLogs("NewSale",null==f?void 0:f.logs),t.next=31,this.transformResultToListing(null==h?void 0:h.listing);case 31:return t.abrupt("return",t.sent);case 32:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.setModuleMetadata=function(){var t=b(N.mark((function t(e){var r;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(e);case 2:return r=t.sent,t.next=5,this.sendTransaction("setContractURI",[r]);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.setMarketFeeBps=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendTransaction("setMarketFeeBps",[e]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e}(Mt);Xt.moduleType=Z.MARKET,Xt.roles=[ct,dt,ft];var Zt=function(t){function e(){return t.apply(this,arguments)||this}T(e,t);var r=e.prototype;return r.getModuleRoles=function(){return e.roles},r.connectContract=function(){return u.Jj.connect(this.address,this.providerOrSigner)},r.getModuleType=function(){return e.moduleType},r.get=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,st(this.readOnlyContract,e,this.ipfsGatewayUrl);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.getAll=function(){var t=b(N.mark((function t(){var e,r=this;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readOnlyContract.nextTokenId();case 2:return e=t.sent.toNumber(),t.next=5,Promise.all(Array.from(Array(e).keys()).map((function(t){return r.get(t.toString())})));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.getWithOwner=function(){var t=b(N.mark((function t(e){var r,n,s;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([this.ownerOf(e),this.get(e)]);case 2:return r=t.sent,n=r[0],s=r[1],t.abrupt("return",{owner:n,metadata:s});case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.getAllWithOwner=function(){var t=b(N.mark((function t(){var e,r=this;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readOnlyContract.nextTokenId();case 2:return e=t.sent.toNumber(),t.next=5,Promise.all(Array.from(Array(e).keys()).map((function(t){return r.getWithOwner(t.toString())})));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.ownerOf=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.readOnlyContract.ownerOf(e);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",o.d);case 9:case"end":return t.stop()}}),t,this,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),r.getOwned=function(){var t=b(N.mark((function t(e){var r,n,s,a,i=this;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=4;break}t.t0=e,t.next=7;break;case 4:return t.next=6,this.getSignerAddress();case 6:t.t0=t.sent;case 7:return r=t.t0,t.next=10,this.readOnlyContract.balanceOf(r);case 10:return n=t.sent,s=Array.from(Array(n.toNumber()).keys()),t.next=14,Promise.all(s.map((function(t){return i.readOnlyContract.tokenOfOwnerByIndex(r,t)})));case 14:return a=t.sent,t.next=17,Promise.all(a.map((function(t){return i.get(t.toString())})));case 17:return t.abrupt("return",t.sent);case 18:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.totalSupply=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readOnlyContract.totalSupply();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.balanceOf=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readOnlyContract.balanceOf(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.balance=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this,t.next=3,this.getSignerAddress();case 3:return t.t1=t.sent,t.next=6,t.t0.balanceOf.call(t.t0,t.t1);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.isApproved=function(){var t=b(N.mark((function t(e,r){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readOnlyContract.isApprovedForAll(e,r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.setApproval=function(){var t=b(N.mark((function t(e,r){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=!0),t.next=3,this.sendTransaction("setApprovalForAll",[e,r]);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.transfer=function(){var t=b(N.mark((function t(e,r){var n;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getSignerAddress();case 2:return n=t.sent,t.next=5,this.sendTransaction("safeTransferFrom(address,address,uint256)",[n,e,r]);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.mint=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this,t.next=3,this.getSignerAddress();case 3:return t.t1=t.sent,t.t2=e,t.next=7,t.t0.mintTo.call(t.t0,t.t1,t.t2);case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.mintTo=function(){var t=b(N.mark((function t(e,r){var n,s,a,i;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(r);case 2:return n=t.sent,t.next=5,this.sendTransaction("mintNFT",[e,n]);case 5:return s=t.sent,a=this.parseEventLogs("Minted",null==s?void 0:s.logs),i=null==a?void 0:a.tokenId,t.next=10,this.get(i.toString());case 10:return t.abrupt("return",t.sent);case 11:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.mintBatch=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this,t.next=3,this.getSignerAddress();case 3:return t.t1=t.sent,t.t2=e,t.next=7,t.t0.mintBatchTo.call(t.t0,t.t1,t.t2);case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.mintBatchTo=function(){var t=b(N.mark((function t(e,r){var n,s,a,i,u=this;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(r.map((function(t){return U(t)})));case 2:return n=t.sent,t.next=5,this.sendTransaction("mintNFTBatch",[e,n]);case 5:return s=t.sent,a=this.parseEventLogs("MintedBatch",null==s?void 0:s.logs),i=a.tokenIds,t.next=10,Promise.all(i.map((function(t){return u.get(t.toString())})));case 10:return t.abrupt("return",t.sent);case 11:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.burn=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendTransaction("burn",[e]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.transferFrom=function(){var t=b(N.mark((function t(e,r,n){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendTransaction("transferFrom",[e,r,n]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}(),r.setRestrictedTransfer=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!1),t.next=3,this.sendTransaction("setRestrictedTransfer",[e]);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.setRoyaltyBps=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendTransaction("setRoyaltyBps",[e]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.setModuleMetadata=function(){var t=b(N.mark((function t(e){var r;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(e);case 2:return r=t.sent,t.next=5,this.sendTransaction("setContractURI",[r]);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e}(Mt);Zt.moduleType=Z.NFT,Zt.roles=[ct,pt,ft,lt];var te=function(t){function e(){return t.apply(this,arguments)||this}T(e,t);var r=e.prototype;return r.getModuleRoles=function(){return e.roles},r.connectContract=function(){return u.KM.connect(this.address,this.providerOrSigner)},r.getModuleType=function(){return e.moduleType},r.open=function(){var t=b(N.mark((function t(e){var r,n,s,a,i,u,o=this;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendTransaction("openPack",[e]);case 2:return r=t.sent,n=this.parseEventLogs("PackOpenRequest",null==r?void 0:r.logs),s=n.requestId,a=n.opener,t.next=8,new Promise((function(t){o.readOnlyContract.once(o.readOnlyContract.filters.PackOpenFulfilled(null,a),(function(e,r,n,a,i){s===n&&t({packId:e,opener:r,requestId:s,rewardContract:a,rewardIds:i})}))}));case 8:return i=t.sent,u=i.rewardIds,t.next=12,Promise.all(u.map((function(t){return rt(o.providerOrSigner,o.address,t.toString(),o.ipfsGatewayUrl)})));case 12:return t.abrupt("return",t.sent);case 13:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.get=function(){var t=b(N.mark((function t(e){var r,n,s,a,i;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([rt(this.providerOrSigner,this.address,e,this.ipfsGatewayUrl),this.readOnlyContract.getPack(e),this.readOnlyContract.totalSupply(e).catch((function(){return l.O$.from("0")}))]);case 2:return r=t.sent,n=r[0],s=r[1],a=r[2],i={id:e,metadata:n,creator:s.creator,currentSupply:a,openStart:s.openStart.gt(0)?new Date(1e3*s.openStart.toNumber()):null},t.abrupt("return",i);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.getAll=function(){var t=b(N.mark((function t(){var e,r=this;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readOnlyContract.nextTokenId();case 2:return e=t.sent.toNumber(),t.next=5,Promise.all(Array.from(Array(e).keys()).map((function(t){return r.get(t.toString())})));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.getNFTs=function(){var t=b(N.mark((function t(e){var r,n,s=this;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readOnlyContract.getPackWithRewards(e);case 2:if((r=t.sent).source){t.next=5;break}throw new X;case 5:return t.next=7,Promise.all(r.tokenIds.map((function(t){return rt(s.providerOrSigner,r.source,t.toString(),s.ipfsGatewayUrl)})));case 7:return n=t.sent,t.abrupt("return",n.map((function(t,e){return{supply:r.amountsPacked[e],metadata:t}})));case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.balanceOf=function(){var t=b(N.mark((function t(e,r){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readOnlyContract.balanceOf(e,r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.balance=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this,t.next=3,this.getSignerAddress();case 3:return t.t1=t.sent,t.t2=e,t.next=7,t.t0.balanceOf.call(t.t0,t.t1,t.t2);case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.isApproved=function(){var t=b(N.mark((function t(e,r){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readOnlyContract.isApprovedForAll(e,r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.setApproval=function(){var t=b(N.mark((function t(e,r){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=!0),t.next=3,this.sendTransaction("setApprovalForAll",[e,r]);case 3:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.transfer=function(){var t=b(N.mark((function t(e,r,n){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this,t.next=3,this.getSignerAddress();case 3:return t.t1=t.sent,t.t2=e,t.t3=r,t.t4=n,t.t5=[0],t.t6=[t.t1,t.t2,t.t3,t.t4,t.t5],t.next=11,t.t0.sendTransaction.call(t.t0,"safeTransferFrom",t.t6);case 11:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}(),r.create=function(){var t=b(N.mark((function t(e){var r,n,s,a,i,o,c,p,f,l,h,d;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=u.bP.connect(e.assetContract,this.providerOrSigner),t.next=3,this.getSignerAddress();case 3:return a=t.sent,i=e.assets.map((function(t){return t.tokenId})),o=e.assets.map((function(t){return t.amount})),t.next=8,U(e.metadata);case 8:return c=t.sent,p=v.$.encode(["string","uint256","uint256"],[c,e.secondsUntilOpenStart||0,e.rewardsPerOpen||1]),t.t0=s,t.t1=a,t.t2=this.address,t.t3=i,t.t4=o,t.t5=p,t.next=18,this.getCallOverrides();case 18:return t.t6=t.sent,t.next=21,t.t0.safeBatchTransferFrom.call(t.t0,t.t1,t.t2,t.t3,t.t4,t.t5,t.t6);case 21:return f=t.sent,t.next=24,f.wait();case 24:return l=t.sent,h=null==l||null==(r=l.events)?void 0:r.find((function(t){return"PackCreated"===t.event})),d=null==h||null==(n=h.args)?void 0:n.packId,t.next=29,this.get(d);case 29:return t.abrupt("return",t.sent);case 30:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.transferFrom=function(){var t=b(N.mark((function t(e,r,n,s){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===s&&(s=[0]),t.next=3,this.sendTransaction("safeTransferFrom",[e,r,n.tokenId,n.amount,s]);case 3:case"end":return t.stop()}}),t,this)})));return function(e,r,n,s){return t.apply(this,arguments)}}(),r.transferBatchFrom=function(){var t=b(N.mark((function t(e,r,n,s){var a,i;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===s&&(s=[0]),a=n.map((function(t){return t.tokenId})),i=n.map((function(t){return t.amount})),t.next=5,this.sendTransaction("safeBatchTransferFrom",[e,r,a,i,s]);case 5:case"end":return t.stop()}}),t,this)})));return function(e,r,n,s){return t.apply(this,arguments)}}(),r.getLinkBalance=function(){var t=b(N.mark((function t(){var e,r,n;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getChainID();case 2:return e=t.sent,r=tt[e],n=u.w6.connect(r.linkTokenAddress,this.providerOrSigner),t.t0=Y,t.t1=this.providerOrSigner,t.t2=r.linkTokenAddress,t.next=10,n.balanceOf(this.address);case 10:return t.t3=t.sent,t.next=13,(0,t.t0)(t.t1,t.t2,t.t3);case 13:return t.abrupt("return",t.sent);case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.depositLink=function(){var t=b(N.mark((function t(e){var r,n,s,a;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getChainID();case 2:return r=t.sent,n=tt[r],s=u.w6.connect(n.linkTokenAddress,this.providerOrSigner),t.t0=s,t.t1=this.address,t.t2=e,t.next=10,this.getCallOverrides();case 10:return t.t3=t.sent,t.next=13,t.t0.transfer.call(t.t0,t.t1,t.t2,t.t3);case 13:return a=t.sent,t.next=16,a.wait();case 16:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.withdrawLink=function(){var t=b(N.mark((function t(e,r){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendTransaction("transferLink",[e,r]);case 2:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.setRoyaltyBps=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendTransaction("setRoyaltyBps",[e]);case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.setModuleMetadata=function(){var t=b(N.mark((function t(e){var r;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(e);case 2:return r=t.sent,t.next=5,this.sendTransaction("setContractURI",[r]);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.setRestrictedTransfer=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!1),t.next=3,this.sendTransaction("setRestrictedTransfer",[e]);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e}(Mt);te.moduleType=Z.PACK,te.roles=[ct,pt,ft,lt];var ee=function(t){function e(){return t.apply(this,arguments)||this}T(e,t);var r=e.prototype;return r.connectContract=function(){return u.Ai.connect(this.address,this.providerOrSigner)},r.getModuleType=function(){return e.moduleType},r.get=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H(this.providerOrSigner,this.address);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.getAllRecipients=function(){var t=b(N.mark((function t(){var e,r,n;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=[],r=l.O$.from(0);case 2:return t.prev=3,t.next=6,this.readOnlyContract.payee(r);case 6:return n=t.sent,t.t0=e,t.next=10,this.getRecipientSplitPercentage(n);case 10:t.t1=t.sent,t.t0.push.call(t.t0,t.t1),r=r.add(1),t.next=22;break;case 15:if(t.prev=15,t.t2=t.catch(3),!("method"in t.t2)||!t.t2.method.toLowerCase().includes("payee(uint256)")){t.next=21;break}return t.abrupt("break",24);case 21:throw t.t2;case 22:t.next=2;break;case 24:return t.abrupt("return",e);case 25:case"end":return t.stop()}}),t,this,[[3,15]])})));return function(){return t.apply(this,arguments)}}(),r.getRecipientSplitPercentage=function(){var t=b(N.mark((function t(e){var r,n,s;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([this.readOnlyContract.totalShares(),this.readOnlyContract.shares(e)]);case 2:return r=t.sent,n=r[0],s=r[1],t.abrupt("return",{address:e,splitPercentage:s.mul(l.O$.from(1e7)).div(n).toNumber()/1e5});case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.balanceOf=function(){var t=b(N.mark((function t(e){var r,n,s;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readOnlyContract.provider.getBalance(this.address);case 2:return r=t.sent,t.next=5,this.readOnlyContract["totalReleased()"]();case 5:return n=t.sent,s=r.add(n),t.t0=this,t.t1=e,t.t2=s,t.next=12,this.readOnlyContract["released(address)"](e);case 12:return t.t3=t.sent,t.abrupt("return",t.t0._pendingPayment.call(t.t0,t.t1,t.t2,t.t3));case 14:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.balanceOfToken=function(){var t=b(N.mark((function t(e,r){var n,s,a,i,o;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.w6.connect(r,this.providerOrSigner),t.next=3,n.balanceOf(this.address);case 3:return s=t.sent,t.next=6,this.readOnlyContract["totalReleased(address)"](r);case 6:return a=t.sent,i=s.add(a),t.t0=this,t.t1=e,t.t2=i,t.next=13,this.readOnlyContract["released(address,address)"](r,e);case 13:return t.t3=t.sent,t.next=16,t.t0._pendingPayment.call(t.t0,t.t1,t.t2,t.t3);case 16:return o=t.sent,t.next=19,Y(this.providerOrSigner,r,o);case 19:return t.abrupt("return",t.sent);case 20:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.withdraw=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendTransaction("release(address)",[e]);case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r._pendingPayment=function(){var t=b(N.mark((function t(e,r,n){var s,a;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=r,t.next=3,this.readOnlyContract.shares(e);case 3:return t.t1=t.sent,s=t.t0.mul.call(t.t0,t.t1),t.t2=s,t.next=8,this.readOnlyContract.totalShares();case 8:return t.t3=t.sent,a=t.t2.div.call(t.t2,t.t3),t.abrupt("return",a.sub(n));case 11:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}(),r.withdrawToken=function(){var t=b(N.mark((function t(e,r){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendTransaction("release(address,address)",[r,e]);case 2:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.distribute=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendTransaction("distribute()",[]);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.distributeToken=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sendTransaction("distribute(address)",[e]);case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e}(St);ee.moduleType=Z.SPLITS;var re=function(t){function e(){return t.apply(this,arguments)||this}T(e,t);var r=e.prototype;return r.connectContract=function(){return u.Dz.connect(this.address,this.providerOrSigner)},r.getProtocolContracts=function(){var t=b(N.mark((function t(){var e,r,n,s,a,i=this;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getSignerAddress();case 2:return e=t.sent,t.next=5,this.readOnlyContract.getProtocolControlCount(e);case 5:return r=t.sent,n=Array.from(Array(r.toNumber()).keys()).reverse(),t.next=9,Promise.all(n.map((function(t){return i.readOnlyContract.getProtocolControl(e,(t+1).toString())})));case 9:return s=t.sent,t.next=12,Promise.all(s.map((function(t){return K(i.providerOrSigner,t,i.ipfsGatewayUrl).catch((function(){}))})));case 12:return a=t.sent,t.abrupt("return",n.map((function(t,e){return{address:s[e],version:t,metadata:a[e]}})));case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(St),ne=function(){function t(t,e){this.options=void 0,this.defaultOptions={ipfsGatewayUrl:"https://cloudflare-ipfs.com/ipfs/",registryContractAddress:"",maxGasPriceInGwei:100,gasSpeed:"fastest",transactionRelayerUrl:"",transactionRelayerSendFunction:this.defaultRelayerSendFunction.bind(this),transactionRelayerForwarderAddress:"0xc82BbE41f2cF04e3a8efA18F7032BDD7f6d98a81",readOnlyRpcUrl:""},this.modules=new Map,this.providerOrSigner=void 0,this._signer=null,this._registry=null,this.providerOrSigner=this.setProviderOrSigner(t),this.options=O({},this.defaultOptions,e)}var e=t.prototype;return e.updateModuleSigners=function(){for(var t,e=L(this.modules);!(t=e()).done;){var r=t.value[1];this.isReadOnly()&&r.clearSigner(),r.setProviderOrSigner(this.providerOrSigner)}},e.getChainID=function(){var t=b(N.mark((function t(){var e,r,n;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=y.zt.isProvider(this.providerOrSigner)?this.providerOrSigner:this.providerOrSigner.provider)||kt(!1),t.next=4,e.getNetwork();case 4:return r=t.sent,n=r.chainId,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.getRegistryAddress=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.options.registryContractAddress){t.next=2;break}return t.abrupt("return",this.options.registryContractAddress);case 2:return t.t0=bt,t.next=5,this.getChainID();case 5:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.getRegistryModule=function(){var t=b(N.mark((function t(){var e;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getRegistryAddress();case 2:return(e=t.sent)||kt(!1),t.abrupt("return",this.registry=this.getOrCreateModule(e,re));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.getOrCreateModule=function(t,e){if(this.modules.has(t))return this.modules.get(t);var r=new e(this.providerOrSigner,t,this.options,this);return this.modules.set(t,r),r},e.getForwarderAddress=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.registry,t.t0){t.next=5;break}return t.next=4,this.getRegistryModule();case 4:t.t0=t.sent;case 5:return t.next=7,t.t0.readOnlyContract.forwarder();case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.getApps=function(){var t=b(N.mark((function t(){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.registry,t.t0){t.next=5;break}return t.next=4,this.getRegistryModule();case 4:t.t0=t.sent;case 5:return t.abrupt("return",t.t0.getProtocolContracts());case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.createApp=function(){var t=b(N.mark((function t(e){var r,n,s,a,i,u;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.registry,t.t0){t.next=5;break}return t.next=4,this.getRegistryModule();case 4:t.t0=t.sent;case 5:return n=t.t0.contract,t.next=8,this.getGasPrice();case 8:return s=t.sent,a={},"number"===typeof s&&(a.gasPrice=(0,c.parseUnits)(s.toString(),"gwei")),t.t1=U,t.t2=e,t.t3=n.address,t.next=16,null==(r=this.signer)?void 0:r.getAddress();case 16:if(t.t4=t.sent,t.t4){t.next=19;break}t.t4=void 0;case 19:return t.t5=t.t4,t.next=22,(0,t.t1)(t.t2,t.t3,t.t5);case 22:return i=t.sent,t.next=25,n.deployProtocol(i,a);case 25:return u=t.sent,t.next=28,u.wait();case 28:return t.abrupt("return",t.sent);case 29:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.getGasPrice=function(){var t=b(N.mark((function t(e,r){var n,s;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e||this.options.gasSpeed,s=r||this.options.maxGasPriceInGwei,t.t0=gt,t.next=5,this.getChainID();case 5:return t.t1=t.sent,t.t2=n,t.t3=s,t.next=10,(0,t.t0)(t.t1,t.t2,t.t3);case 10:return t.abrupt("return",t.sent);case 11:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),e.setProviderOrSigner=function(t){return y.zt.isProvider(t)||d.E.isSigner(t)?this.providerOrSigner=t:this.providerOrSigner=h.yl(t),d.E.isSigner(t)?this.signer=t:this.signer=null,this.updateModuleSigners(),this.providerOrSigner},e.isReadOnly=function(){return!d.E.isSigner(this.signer)},e.getContractMetadata=function(){var t=b(N.mark((function t(e){return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=O,t.t1={},t.next=4,K(this.providerOrSigner,e,this.options.ipfsGatewayUrl);case 4:return t.t2=t.sent,t.t3={address:e},t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3));case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.getAppModule=function(t){return this.getOrCreateModule(t,Yt)},e.getNFTModule=function(t){return this.getOrCreateModule(t,Zt)},e.getCollectionModule=function(t){return this.getBundleModule(t)},e.getBundleModule=function(t){return this.getOrCreateModule(t,Jt)},e.getPackModule=function(t){return this.getOrCreateModule(t,te)},e.getCurrencyModule=function(t){return this.getOrCreateModule(t,Wt)},e.getDatastoreModule=function(t){return this.getOrCreateModule(t,Vt)},e.getMarketModule=function(t){return this.getOrCreateModule(t,Xt)},e.getDropModule=function(t){return this.getOrCreateModule(t,Qt)},e.getSplitsModule=function(t){return this.getOrCreateModule(t,ee)},e.invokeRoute=function(t,e){var r=t.split(".");if(r.length>0&&"thirdweb"===r[0]){if(4===r.length){var n,s=r[1],a=r[2],i=r[3];return(n=this.getModuleByName(s,a))[i].apply(n,e.arguments||[])}if(3===r.length)throw new Error("reserved for thirdweb.bridge.function_name");if(2===r.length)return this[r[1]].apply(this,e.arguments||[])}throw new Error("uknown route")},e.getModuleByName=function(t,e){if("currency"===t)return this.getCurrencyModule(e);if("nft"===t)return this.getNFTModule(e);if("market"===t)return this.getMarketModule(e);if("bundle"===t||"collection"===t)return this.getCollectionModule(e);if("drop"===t)return this.getDropModule(e);if("splits"===t)return this.getSplitsModule(e);if("pack"===t)return this.getPackModule(e);if("datastore"===t)return this.getDatastoreModule(e);if("app"===t||"project"===t)return this.getAppModule(e);throw new Error("unsupported module")},e.defaultRelayerSendFunction=function(){var t=b(N.mark((function t(e,r){var n,s,a,i;return N.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=JSON.stringify({request:e,signature:r,type:"forward"}),t.next=3,fetch(this.options.transactionRelayerUrl,{method:"POST",body:n});case 3:if(!(s=t.sent).ok){t.next=10;break}return t.next=7,s.json();case 7:return a=t.sent,i=JSON.parse(a.result),t.abrupt("return",i.txHash);case 10:throw new Error("relay transaction failed");case 11:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),A(t,[{key:"signer",get:function(){return this._signer},set:function(t){this._signer=t}},{key:"registry",get:function(){return this._registry},set:function(t){this._registry=t}}]),t}();globalThis.fetch||(globalThis.fetch=s())}}]);